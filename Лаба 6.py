# -*- coding: utf-8 -*-
"""
Анализ эмоциональной окраски постов в соцсетях
Программа для подсчета слов, написанных полностью заглавными буквами
"""

import re
from collections import Counter

def analyze_emotional_tone(text):
    """
    Анализирует текст и находит слова, написанные полностью заглавными буквами
    """
    print("Исходный текст:")
    print(text)
    print("\n" + "="*50 + "\n")
    
    # Находим все слова, состоящие из заглавных букв (русских и английских)
    uppercase_words = re.findall(r'\b[А-ЯA-Z]+\b', text)
    
    print("Все слова в верхнем регистре:", uppercase_words)
    
    # Фильтруем слова по условиям:
    # - длина больше 1 символа
    # - содержат только буквы (без цифр)
    # - все буквы заглавные
    filtered_words = [
        word for word in uppercase_words 
        if len(word) > 1 
        and word.isalpha() 
        and word.isupper()
    ]
    
    print("\nОтфильтрованные слова (длина > 1, только буквы):", filtered_words)
    
    # Подсчитываем частоту слов
    word_count = Counter(filtered_words)
    
    return word_count

# Текст для анализа
text = """СРОЧНО! ЭТО ВАЖНО! Все должны это видеть (а тем кто НЕ видел, СРОЧНО расскажите!!!111). НЕ игнорируйте — это РЕАЛЬНО спасёт жизни!
~СМС пришло в 3 часа. => Я был в ШОКЕ. ПОЖАЛУЙСТА, $$поделитесь$$! #ВАЖНО #СПАСИТЕ P.S. Я не шучу. ПОВТОРЯЮ: ЭТО ВАЖНО!"""

# Выполняем анализ
result = analyze_emotional_tone(text)

# Выводим результаты
print("\n" + "="*50)
print("РЕЗУЛЬТАТЫ АНАЛИЗА:")
print("="*50)
print("Слово\t\tКоличество")
print("-" * 20)

for word, count in result.items():
    print(f"{word}\t\t{count}")

print("\n" + "="*50)
print(f"Всего уникальных слов: {len(result)}")
print(f"Общее количество употреблений: {sum(result.values())}")

# Дополнительная статистика
print("\nДОПОЛНИТЕЛЬНАЯ СТАТИСТИКА:")
most_common = result.most_common(3)
print("Топ-3 самых частых слов:")
for i, (word, count) in enumerate(most_common, 1):
    print(f"{i}. {word} - {count} раз(а)")

print("\nВЫВОДЫ:")
print("• Слова, написанные заглавными буквами, часто выражают эмоциональный окрас")
print("• Частые повторения усиливают эффект срочности и важности")
print("• Исключены однобуквенные слова и слова с цифрами")